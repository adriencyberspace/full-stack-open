{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","props","value","search","onChange","handleSearchChange","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Person","person","deletePerson","name","number","onClick","Notification","message","notificationStyle","color","notifColor","fontSize","borderStyle","borderRadius","padding","marginBottom","width","style","baseUrl","exportedObject","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","remove","delete","App","useState","persons","setPersons","setNewName","setNewNumber","showAll","setShowAll","setSearch","notification","setNotification","setNotifColor","useEffect","personService","initialPersons","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","map","indexOf","window","confirm","thisPerson","find","changedPerson","returnedPerson","personObject","concat","setTimeout","catch","error","console","log","p","deleteThisPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7c0a83a2.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n  return (\n    <form>\n      <div>\n        Filter shown with: \n        <input \n          value={props.search}\n          onChange={props.handleSearchChange}\n        />\n      </div>\n    </form>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.addPerson}>\n      <div>\n        Name: \n        <input \n          value={props.newName}\n          onChange={props.handleNameChange}\n        />\n        Phone Number: \n        <input \n          value={props.newNumber}\n          onChange={props.handleNumberChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({ person, deletePerson }) => {\n\n  return (\n    <li>\n      {person.name} {person.number}\n      <button onClick={deletePerson}>Delete</button>\n      </li>\n  )\n}\n\nexport default Person","import React from 'react'\n\nconst Notification = ({ message, notifColor }) => {\n  const notificationStyle = {\n    color: notifColor ,\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n    width: 500\n  }\n  \n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div style={notificationStyle}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\n\n// handles error when trying to just export the object without variable name\nconst exportedObject = { getAll, create, update, remove }\n\nexport default exportedObject","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Person from './components/Person'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ showAll, setShowAll ] = useState(false)\n  const [ search, setSearch ] = useState('')\n  const [ notification, setNotification ] = useState(null)\n  const [ notifColor, setNotifColor ] = useState('black')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const names = persons.map(person => person.name)\n\n    if (names.indexOf(newName) > -1) {\n\n      if (window.confirm(`${newName} is already in phonebook. Would you like to update their phone number?`)) {\n        const thisPerson = persons.find(person => person.name === newName)\n        const changedPerson = {...thisPerson, number: newNumber}\n\n        personService\n          .update(changedPerson.id, changedPerson).then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== changedPerson.id ? person : returnedPerson))\n          })\n      }\n    } else {\n      const personObject = {\n      name: newName,\n      number: newNumber\n      }\n\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setNotifColor('green')\n          setNotification(\n            `${newName}' has been added to phonebook.`\n          )\n          setTimeout(() => {\n            setNotification(null)\n          }, 2000)\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          setNotifColor('red')\n          setNotification(`${error.response.data.error}`)\n          setTimeout(() => {\n            setNotification(null)\n          }, 2000)\n        })\n\n      \n      \n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    setSearch(event.target.value)\n    setShowAll(false)\n  }\n\n  const deleteThisPerson = id => {\n    const person = persons.find(p => p.id === id)\n\n    if (window.confirm(`Do you really want to delete ${person.name}?`)) {\n      \n      personService\n        .remove(id)\n        .then(() => \n          setPersons(persons.filter(p => p.id !== id)))\n        .catch(error => {\n          setNotifColor('red')\n          setNotification(\n            `${person.name} already deleted from phonebook.`\n          )\n          setTimeout(() => {\n            setNotification(null)\n          }, 2000)\n          setPersons(persons.filter(p => p.id !== id))\n        })\n    \n    }\n  }\n\n  const personsToShow = showAll\n  ? persons\n  : persons.filter(person => person.name.toLowerCase().includes(`${search}`.toLowerCase()))\n\n  return (\n    <div>\n\n    <h2>Phonebook</h2>\n    <Notification message={notification} notifColor={notifColor} />\n\n    <Filter search={search} handleSearchChange={handleSearchChange}/>\n\n    <h2>Add New Entry</h2>\n    \n    <PersonForm \n      addPerson={addPerson} \n      newName={newName}\n      handleNameChange={handleNameChange}\n      newNumber={newNumber}\n      handleNumberChange={handleNumberChange}\n      />\n      \n      <h2>Numbers</h2>\n      \n      <ul>\n        {personsToShow.map(person => \n          <Person \n            key={person.name} \n            person={person}\n            deletePerson = {() => deleteThisPerson(person.id)}\n          />\n        )}\n      </ul>\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}